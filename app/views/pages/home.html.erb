<!-- TODO https://www.colby.so/posts/filtering-tables-with-rails-and-hotwire -->
<div class="container mt-4">
  <div class="px-4">
    <form>
      <input type="text" name="search" class="form-control" placeholder="Search from <%= @ingredient_count %> ingredients...">
    </form>
  </div>
  <div class="row pt-4">
    <% @categories.each do |category| %>
      <%= link_to category.name, get_category_ingredients_path(:category_name => category.name),
        class: "btn btn-secondary col m-1 px-4" %>
    <% end %>
  </div>
  <table class="table table-hover table-striped mt-4">
    <thead>
      <tr>
        <th class="col-4">Ingredient</th>
        <th class="col-2">Amount</th>
        <th class="col-2">Expires</th>
        <th class="col-1">Location</th>
        <th class="col-1"></th>
      </tr>
    </thead>
    <tbody>
      <% @ingredients.each do |ingredient| %>
        <%= render 'shared/row', i: ingredient %>
      <% end %>
    </tbody>
  </table>
  <% if params[:search] || params[:category_name] %>
    <div class="text-center">
      <%= link_to "Show All", root_path, class: "btn btn-primary" %>
      <%= link_to "Add New", new_ingredient_path, class: "btn btn-success" %>
    </div>
  <% end %>
</div>
